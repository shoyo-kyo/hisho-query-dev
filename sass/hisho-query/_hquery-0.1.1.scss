@charset "utf-8";
/*! hisho-query v0.1.1 */
// Sass3 and compass1 Library
// http://query.hisho.com
// 
// Copyright 2014 shoyo kyo
// Released under the MIT license
// https://github.com/syouyou/hisho-query/blob/master/LICENSE
// 
// Date: 2014-02-11


// ------------------------------
// [name] hq-help v1.0.0
// [path] /hisho-query/_hq-help.scss
// [desc] hishoqueryhelpをターミナルに表示
// [exsample]
//   hq-help()
// ------------------------------
@function hq-help(){

$help: '
============================
HISHO QUERY v0.1.1
2014.02.10
============================

----------------------------
- method help

$hoge: hq("str.help");
$hoge: hq("num.help");
$hoge: hq("list.help");
$hoge: hq("map.help");
$hoge: hq("is.help");
$hoge: hq("css.help");

----------------------------
- method query

$str: hogehoge.fuga;

$hoge: hq("str.upcase->str.quote", $str);  //-> "HOGEHOGE.FUGA"

//argmentは第三引数以降に順に設定する  
$hoge: hq("str.replace->str.split->list.get", $str, "fuga", "fugo", ".", 2);  //-> fugo

----------------------------
- method map

method-map   : hq($str,(
  "str.replace": "abcd" "dcbb",
  "str.quote": null
));

----------------------------
- console

$h: hq-console($value);

----------------------------
';
	
	$a: hq-str-puts($help);
	@return null;
}



// ------------------------------
// [name] hq-str-help v1.0.0
// [path] /hisho-query/hq-str/_help.scss
// [desc] hq("str.xxx")のhelpをターミナルに表示
// [exsample]
//   hq-str-help()
// ------------------------------
@function hq-str-help(){

$help: '
- string method -
-------------------------------------------------------
| method        | return | mq| description
-------------------------------------------------------
| str.quote     | string | o | quoteを付与する
| str.length    | number | o | 文字数を返す
| str.insert    | string | o | 指定位置に文字列を追加
| str.index     | number | o | 指定文字の位置を返す
| str.slice     | string | o | 指定した範囲の文字列を取り出す
| str.upcase    | string | o | 文字列を大文字に変換
| str.downcase  | string | o | 文字列を小文字に変換
| str.capitalize| string | o | 先頭の文字を大文字に変換し、他を小文字に変換
| str.flUpcase  | string | o | 先頭文字のみ大文字に変換
| str.flDowncase| string | o | 先頭文字のみ小文字に変換
| str.strip     | string | o | 先頭と末尾の空白文字を除去
| str.succ      | string | o | 次の文字列を返す
| str.match     | bool   | o | 文字列検索
| str.replace   | string | o | 文字列変換
| str.split     | list   | o | 区切り記号を使用して文字列を分割
| str.getId     | string | o | ユニークなIDを生成
| str.reverse   | string | o | 文字列を反転
-------------------------------------------------------
* mq: "map query"対応可否

$h: hq("str.unquote", $str);
$h: hq("str.quote", $str);
$h: hq("str.length", $str);
$h: hq("str.insert", $str, hoge, 3);
$h: hq("str.index", $str, fg);
$h: hq("str.slice", $str, 1, 3);
$h: hq("str.upcase", $str);
$h: hq("str.downcase", $str);
$h: hq("str.capitalize", $str);
$h: hq("str.flUpcase", $str);
$h: hq("str.flDowncase", $str);
$h: hq("str.strip", $str);
$h: hq("str.succ", $str);
$h: hq("str.match", $str, "bc");
$h: hq("str.replace", $str, "bc", "xa");
$h: hq("str.split", $str, ".");
$h: hq("str.getId");
$h: hq("str.reverse", $str);
-------------------------------------------------------
';
	
	$a: hq-str-puts($help);
	@return null;
}



// ------------------------------
// [name] hq-num-help v1.0.0
// [path] /hisho-query/hq-num/_help.scss
// [desc] hq("num.xxx")のhelpをターミナルに表示
// [exsample]
//   hq-num-help()
// ------------------------------
@function hq-num-help(){

$help: '
- number method -
-------------------------------------------------------
| method        | return | mq| description
-------------------------------------------------------
| num.percentage| number | o | パーセンテージに変換
| num.round     | number | o | 小数点以下四捨五入
| num.ceil      | number | o | 小数点以下切上げ
| num.floor     | number | o | 小数点以下切捨て
| num.abs       | number | o | 絶対値を取得
| num.min       | number | x | 最小値取得
| num.max       | number | x | 最大値取得
| num.unit      | string | o | 値の単位を取得
| num.unitless  | bool   | o | 単位が指定されているかチェック
| num.comparable| bool   | o | 2つの値が、合計、比較が可能かチェック
-------------------------------------------------------
* mq: "map query"対応可否

$h: hq("num.percentage", (100px / 50px) );
$h: hq("num.round", 10.4px);
$h: hq("num.ceil", 10.4px);
$h: hq("num.floor", 10.4px);
$h: hq("num.abs", -15px);
$h: hq("num.min", 10px, 5px, 2px, 15px, 18px);
$h: hq("num.max", 10px, 5px, 2px, 15px, 18px);
$h: hq("num.unit", 20em);
$h: hq("num.unitless", 20em);
$h: hq("num.comparable", 15em, 15px);
-------------------------------------------------------
';
	
	$a: hq-str-puts($help);
	@return null;
}



// ------------------------------
// [name] hq-list-help v1.0.0
// [path] /hisho-query/hq-list/_help.scss
// [desc] hq("is.xxx")のhelpをターミナルに表示
// [exsample]
//   hq-list-help()
// ------------------------------
@function hq-list-help(){

$help: '
- list method -
-------------------------------------------------------
| method        | return | mq| description
-------------------------------------------------------
| list.get      | other  | o | 配列から値を取得
| list.set      | list   | o | 配列に値を設定（差し替える）
| list.length   | number | o | 配列の数を返す
| list.index    | number | o | 値を検索し位置を返す
| list.unshift  | list   | o | 値を先頭に追加
| list.push     | list   | o | 値を最後尾に追加
| list.shift    | list   | o | 先頭の値を削除
| list.pop      | list   | o | 最後尾の値を削除
| list.slice    | list   | o | 指定した範囲の配列を取り出す
| list.remove   | list   | o | 指定した値を削除
| list.join     | list   | o | 配列を結合する
| list.zip      | list   | x | sass zipと同様
| list.toSpace  | list   | o | listの区切り文字をspaceに変換
| list.toComma  | list   | o | listの区切り文字をcommaに変換
| list.separator| string | o | listの区切り文字を返す
| list.reverse  | list   | o | 配列を反転する
-------------------------------------------------------
* mq: "map query"対応可否

$h: hq("list.get", $list, 1);
$h: hq("list.set", $list, 3, "hoge");
$h: hq("list.length", $list);
$h: hq("list.index", $list, "b");
$h: hq("list.unshift", $list, "x");
$h: hq("list.push", $list, "x");
$h: hq("list.shift", $list);
$h: hq("list.pop", $list);
$h: hq("list.slice", $list, 2, 3);
$h: hq("list.remove", $list, c);
$h: hq("list.join", $list, $list2, "comma");
$h: hq("list.zip", $list, $list2, $list);
$h: hq("list.toSpace", $list);
$h: hq("list.toComma", $list);
$h: hq("list.separator", $list);
$h: hq("list.reverse", $list);

-------------------------------------------------------
';
	
	$a: hq-str-puts($help);
	@return null;
}



// ------------------------------
// [name] hq-list-pop v1.0.0
// [path] /hisho-query/hq-map/_pop.scss
// [desc] listの最後を削除します
// [return] list
// [exsample]
//   hq-list-pop($list);
// ------------------------------
@function hq-list-pop($list){
	$_result: ();
	@for $i from 1 through length($list) - 1{
		$_result: append($_result, nth($list, $i));
	}
	@return $_result;
}


// ------------------------------
// [name] hq-list-prepend v1.0.0
// [path] /hisho-query/hq-map/_prepend.scss
// [desc] listの先頭に追加する
// [return] list
// [exsample]
//   hq-list-prepend($list);
// ------------------------------
@function hq-list-prepend($list,$value){
	$_valueList: ();
	$_valueList: append($_valueList, $value);
	@return join($_valueList, $list);
}


// ------------------------------
// [name] hq-list-remove v1.0.0
// [path] /hisho-query/hq-map/_remove.scss
// [desc] 指定の値を削除
// [return] list
// [exsample]
//   hq-list-remove($list);
// ------------------------------
@function hq-list-remove($list, $value){
	$_index: index($list, $value);
	$_result1: hq-list-slice($list, 1, $_index - 1);
	$_result2: hq-list-slice($list, $_index + 1, length($list));
	@return join($_result1, $_result2);
}


// ------------------------------
// [name] hq-list-reverse v1.0.0
// [path] /hisho-query/hq-map/_reverse.scss
// [desc] listの先頭を削除します
// [return] list
// [exsample]
//   hq-list-reverse($list);
// ------------------------------
@function hq-list-reverse($list){
	$_result: ();
	$_len: length($list);
	@for $i from 0 through $_len - 1{
		$_num : $_len - $i;
		$_result: append($_result, nth($list, $_num));
	}
	@return $_result;
}


// ------------------------------
// [name] hq-list-slice v1.0.0
// [path] /hisho-query/hq-map/_slice.scss
// [desc] listの先頭を削除します
// [return] list
// [exsample]
//   hq-list-slice($list,3,5);
// ------------------------------
@function hq-list-slice($list,$start,$end:null){
	$_result: ();
	@if $end == null{
		$end: length($list);
	}
	@for $i from $start through $end{
		$_result: append($_result, nth($list, $i));
	}
	@return $_result;
}


// ------------------------------
// [name] hq-list-toSpace v1.0.0
// [path] /hisho-query/hq-map/_toComma.scss
// [desc] listのseparatorをCommaに変換
// [return] list
// [exsample]
//   hq-list-toComma($list);
// ------------------------------
@function hq-list-toComma($list){
	@return join((),$list,comma);
}


// ------------------------------
// [name] hq-list-toSpace v1.0.0
// [path] /hisho-query/hq-map/_toSpace.scss
// [desc] listのseparatorをSpaceに変換
// [return] list
// [exsample]
//   hq-list-toSpace($list);
// ------------------------------
@function hq-list-toSpace($list){
	@return join((),$list,space);
}


// ------------------------------
// [name] hq-list-shift v1.0.0
// [path] /hisho-query/hq-map/_shift.scss
// [desc] listの先頭を削除します
// [return] list
// [exsample]
//   hq-list-shift($list);
// ------------------------------
@function hq-list-shift($list){
	$_result: ();
	@for $i from 2 through length($list){
		$_result: append($_result, nth($list, $i));
	}
	@return $_result;
}


// ------------------------------
// [name] hq-map-help v1.0.0
// [path] /hisho-query/hq-map/_help.scss
// [desc] hq("is.xxx")のhelpをターミナルに表示
// [exsample]
//   hq-map-help()
// ------------------------------
@function hq-map-help(){

$help: '
- map method -
-------------------------------------------------------
| method        | return | mq| deep| description
-------------------------------------------------------
| map.get       | other  | o |  o  | 指定したkeyの値を取得。
| map.set       | map    | o |  o  | 指定したkeyに値を設定。
| map.extend    | map    | x |  o  | 複数のmapをマージ。
| map.merge     | map    | o |  x  | mapをマージ。
| map.mergeDeep | map    | o |  o  | mapをマージ。deepMap対応。
| map.keys      | list   | o |  x  | keyの一覧を取得
| map.values    | list   | o |  x  | valueの一覧を取得
| map.hasKey    | bool   | o |  x  | keyを検索
| map.nth       | list   | o |  x  | 指定位置のvalue&keyを返す
| map.length    | number | o |  x  | mapの数を返す
| map.append    | map    | o |  x  | mapの最後尾にkeyと値を追加
| map.join      | map    | o |  x  | sass joinと同様
| map.zip       | map    | x |  x  | sass zipと同様
| map.toString  | map    | o |  o  | mapをハッシュ化しstringに変換。デバッグ用
-------------------------------------------------------
* deep: "deep map"の対応可否。非対応のものは1階層目のみ判断し処理が行われる。
* mq: "map query"対応可否

$h: hq("map.get", $mapd, "cat.colorType");
$h: hq("map.set", $mapd, "cat.colorType", "blue");
$h: hq("map.extend", $mapd, $mapd2);
$h: hq("map.extend", $mapd, $mapd2, true); //deepCopy
$h: hq("map.merge", $mapd, $mapd2);
$h: hq("map.mergeDeep", $mapd, $mapd2);
$h: hq("map.keys", $map);
$h: hq("map.values", $map);
$h: hq("map.hasKey", $map, "hoge");
$h: hq("map.nth", $map, 2);
$h: hq("map.length", $mapd);
$h: hq("map.push", $mapd, foo hoge);
$h: hq("map.join", $map, $map2, comma);
$h: hq("map.zip", $map, $map2);
$h: hq("map.toString", $mapd);

-------------------------------------------------------
';
	
	$a: hq-str-puts($help);
	@return null;
}



// ------------------------------
// [name] hq-map-get-deep v1.0.0
// [path] /hisho-query/hq-map/_get-deep.scss
// [desc] 深い階層にある値を取得
// [return] map
// [exsample]
//   hq-map-get-deep($map, color.test.A);
// ------------------------------
@function hq-map-get-deep($map, $key){
	$keyList: hq-str-split($key, ".");
	$_result: $map;
	@each $v in $keyList{
		$_result: map-get($_result,$v);
	}
	@return $_result;
}


// ------------------------------
// [name] hq-map-set v1.0.0
// [path] /hisho-query/hq-map/_set.scss
// [desc] mapに値を設定し、mapをreturn
// [return] map
// [exsample]
//   map-set($map, color, #000);
// ------------------------------
@function hq-map-set($map, $key, $value){
	$_rValue: ( #{$key} : $value );
	$_result: map-merge($map, $_rValue);
	@return $_result;
}


// ------------------------------
// [name] hq-map-set-deep v1.0.0
// [path] /hisho-query/hq-map/_set-deep.scss
// [desc] 深い階層にある値を変更し、mapをreturn
// [return] map
// [exsample]
//   hq-map-set-deep($map, "color.test.A", #000);
// ------------------------------
@function hq-map-set-deep($map, $key, $value){
	$_keyList: hq-str-split($key, ".");
	$_length: length($_keyList);
	
	//mapSet
	$_sMap: null;
	@for $i from 0 through $_length - 1 {
		$_num: $_length - $i;
		$_key: nth($_keyList, $_num);
		@if $_sMap {
			$_sMap: ( #{$_key} : $value );
		}@else{
			$_sMap: ( #{$_key} : $_sMap );
		}
	}
	$_result: hq-map-merge-deep($map, $_sMap);
	@return $_result;
}


// ------------------------------
// [name] hq-map-merge-deep v1.0.0
// [path] /hisho-query/hq-map/_hq-map-merge-deep.scss
// [desc] mapのdeep_margeを行う
// [return] map
// [exsample]
//   hq-map-merge-deep($map1, $map2);
// ------------------------------
@function hq-map-merge-deep($self:null, $target:null){
	$_result: $self;
	
	@if type-of($target) == map{
		@each $k, $v in $target{
			//初期化
			@if type-of($_result) != map{
				$_result: ();
			}
			
			//map形式の場合再loop
			@if type-of($v) == map{
				$_rSelf: if(map-get($_result, $k), map-get($_result, $k), () );
				$_rValue: hq-map-merge-deep( $_rSelf, $v );
				//$_result: map-merge($_result, $_rValue);
				$_result: hq-map-set($_result, $k, $_rValue);
			//値の場合上書き
			}@else{
				$_result: hq-map-set($_result, $k, $v);
			}
		}
	}
	@return $_result;
}


// ------------------------------
// [name] hq-map-extend v1.0.0
// [path] /hisho-query/hq-map/_hq-map-extend.scss
// [desc] mapのextend処理 (引数可変長で対応可能)
// [exsample]
//   hq-map-extend($map1, $map2);
//   hq-map-extend(true, $map1, $map2, $map3); //deep_marge
// ------------------------------
@function hq-map-extend( $argument... ){
	$_result: null;
	$_length: length($argument);
	$_isDeep: false;

	//deep setting check
	@each $v in $argument{
		@if hq-is-bool($v) {
			$_isDeep: $v;
		}
	}

	//merge
	@for $i from 0 through $_length - 1 {
		$_num: $_length - $i;
		$_value: nth($argument, $_num);
		@if type-of($_value) == map{
			@if $_result{
				//deepFlag
				@if $_isDeep{
					$_result : hq-map-merge-deep($_value, $_result);
				}@else{
					$_result : map-merge($_value, $_result);
				}
			}@else{
				$_result: $_value;
			}
		}
	}
	@return $_result;
}


// ------------------------------
// [name] hq-css-help v1.0.0
// [path] /hisho-query/hq-css/_help.scss
// [desc] hq("css.xxx")のhelpをターミナルに表示
// [exsample]
//   hq-css-help()
// ------------------------------
@function hq-css-help(){

$help: '
- css method -
-------------------------------------------------------
| method        | return | mq| description
-------------------------------------------------------
| css.toMap     |  list  | o | shortHand形式で記載したCSSをMapに変換
| css.toShort   |  map   | o | Map形式で記載したCSSをshortHandに変換
| css.getWidth  | number | o | widthの指定値を算出
| css.getHeight | number | o | heightの指定値を算出
-------------------------------------------------------
* mq: "map query"対応可否

$h: hq( "css.toMap", "margin", 0 2px 3px 4px );
$h: hq( "css.toMap", "margin", (top:0,right:5px,bottom:9px,left:5px) );
$h: hq( "css.getWidth",  500px, solid 1px #ccc, 0 2px 3px 4px );
$h: hq( "css.getHeight", 500px, solid 1px #ccc, 0 2px 3px 4px );

-------------------------------------------------------
';
	
	$a: hq-str-puts($help);
	@return null;
}



// ------------------------------
// [name] hq-css-get-width v1.0.0
// [path] /hisho-query/hq-css/_get-width.scss
// [desc] padding&borderを元にwidthを算出
// [exsample]
//   hq-css-get-width($width,$border,$padding)
// ------------------------------
@function hq-css-get-width($width:null,$border:null,$padding:null){
	@if $width == null{
		@return null;
	}
	
	$_result: $width;

	//border
	@if type-of($border) != map{
		$border: hq-css-to-map($border,"border");
	}@else if map-has-key($border,"all"){
		$border: hq-css-to-map(map-get($_border, "all"),"border");
	}

	@if map-has-key($border,"left") or map-has-key($border,"right"){
		
		@if map-has-key($border,"left") and map-get($border, "left") {
			$_borderL : hq-css-to-map(map-get($border, "left"),"border");
			$_result: $_result - map-get($_borderL, "width");
		}
		@if map-has-key($border,"right") and map-get($border, "right"){
			$_borderR : hq-css-to-map(map-get($border, "right"),"border");
			$_result: $_result - map-get($_borderR, "width");
		}

	}@else if map-has-key($border,"width") and map-get($border, "width"){
		$_result: $_result - ( map-get($border, "width") * 2 );
	}

	//padding
	@if type-of($padding) != map{
		$padding: hq-css-to-map($padding,"padding");
	}

	@if map-get($padding, "left"){
		$_result: $_result - map-get($padding, "left");
	}
	@if map-get($padding, "right"){
		$_result: $_result - map-get($padding, "right");
	}

	@return $_result;
}



// ------------------------------
// [name] hq-css-get-height v1.0.0
// [path] /hisho-query/hq-css/_get-height.scss
// [desc] padding&borderを元にheightを算出
// [exsample]
//   hq-css-get-height($height,$border,$padding)
// ------------------------------
@function hq-css-get-height($height:null,$border:null,$padding:null){
	@if $height == null{
		@return null;
	}
	
	$_result: $height;

	//border
	@if type-of($border) != map{
		$border: hq-css-to-map($border,"border");
	}@else if map-has-key($border,"all"){
		$border: hq-css-to-map(map-get($_border, "all"),"border");
	}

	@if map-has-key($border,"top") or map-has-key($border,"bottom"){
		
		@if map-has-key($border,"top") and map-get($border, "top"){
			$_borderT : hq-css-to-map(map-get($border, "top"),"border");
			$_result: $_result - map-get($_borderT, "width");
		}
		@if map-has-key($border,"bottom") and map-get($border, "bottom"){
			$_borderB : hq-css-to-map(map-get($border, "bottom"),"border");
			$_result: $_result - map-get($_borderB, "width");
		}

	}@else if map-has-key($border,"width") and map-get($border, "width"){
		$_result: $_result - ( map-get($border, "width") * 2 );
	}

	//padding
	@if type-of($padding) != map{
		$padding: hq-css-to-map($padding,"padding");
	}

	@if map-get($padding, "top"){
		$_result: $_result - map-get($padding, "top");
	}
	@if map-get($padding, "bottom"){
		$_result: $_result - map-get($padding, "bottom");
	}

	@return $_result;
}



// ------------------------------
// [name] hq-css-to-map v1.0.0
// [path] /hisho-query/hq-css/_to-map-map
// [desc] ショートハンド指定されているリストをmapに変換
//        対応: margin,padding,border,background,font
// [return] map, list, null
// [exsample]
//   hq-css-to-map("margin", 0 10px 2px 5px)
// ------------------------------


// ------------------------------
// [name] hq-css-to-map
// ------------------------------
@function hq-css-to-map($list, $type:null){
	//mapの場合
	@if type-of($list) == map{
		@return $list;

	//margin-padding
	}@else if $type == "margin" or $type == "padding" {
		@return hq-css-to-map-margin($list);

	//border
	}@else if $type == "border" or $type == "outline"{
		@return hq-css-to-map-border($list);

	//background
	}@else if $type == "background"{
		@return hq-css-to-map-background($list);

	//font
	}@else if $type == "font"{
		@return hq-css-to-map-font($list);
	
	//list-style
	}@else if $type == "list-style"{
		@return hq-css-to-map-list-style($list);

	//非対応のtypeはまま返す
	}@else{
		@return $list;
	}
}


// ------------------------------
// [name] hq-css-to-map-margin
// [desc] ショートハンド指定されているmargin,paddingリストをmapに変換
// ------------------------------
@function hq-css-to-map-margin($list){
	$_result: (
		top:    null,
		right:  null,
		bottom: null,
		left:   null
	);
	
	//numberの場合mapに変換
	@if type-of($list) == number {
		$_result: hq-map-extend($_result, (
			top:    $list,
			right:  $list,
			bottom: $list,
			left:   $list
		));
		@return $_result;

	//listの場合mapに変換
	}@else if type-of($list) == list {

		$_len:  length($list);

		@if $_len == 2{
			$_result: hq-map-extend($_result, (
				top:    nth($list, 1),
				right:  nth($list, 2),
				bottom: nth($list, 1),
				left:   nth($list, 2)
			));

		} @else if $_len == 3{
			$_result: hq-map-extend($_result, (
				top:    nth($list, 1),
				right:  nth($list, 2),
				bottom: nth($list, 3),
				left:   nth($list, 2)
			));

		} @else if $_len == 4{
			$_result: hq-map-extend($_result, (
				top:    nth($list, 1),
				right:  nth($list, 2),
				bottom: nth($list, 3),
				left:   nth($list, 4)
			));
		}
		@return $_result;
	
	//以外の場合は空のresult
	}@else{
		@return $_result;
	}
}

// ------------------------------
// [name] hq-css-to-map-border
// [desc] ショートハンド指定されているborderリストをmapに変換
// [return] map
// ------------------------------
@function hq-css-to-map-border-setter($value){
	@if type-of($value) == color{
		@return (color: $value);

	}@else if type-of($value) == number{
		@return (width: $value);
	
	}@else if type-of($value) == string and hq-str-match($value,"/thin|medium|thick/"){
		@return (width: $value);

	}@else if type-of($value) == string{
		@return (style: $value);

	}@else{
		@return ();
	}
}
@function hq-css-to-map-border($list){
	$_result: (
		style:    null,
		width:  null,
		color: null
	);
	//list形式
	@if type-of($list) == list{
		@each $_v in $list{
			$_result: hq-map-extend($_result, hq-css-to-map-border-setter($_v));
		}
	//単一指定
	}@else{
		$_result: hq-map-extend($_result, hq-css-to-map-border-setter($list));
	}
	@return $_result;
}

// ------------------------------
// [name] hq-css-to-map-background
// [desc] ショートハンド指定されているbackgroundリストをmapに変換
// [return] map
// ------------------------------
@function hq-css-to-map-background-setter($value){
	@if type-of($value) == color{
		@return (color: $value);
	
	}@else if type-of($value) == string and hq-str-match($value,"/url\(.*\)/"){
		@return (image: $value);

	}@else if type-of($value) == string and hq-str-match($value,"repeat"){
		@return (repeat: $value);

	}@else if type-of($value) == string and hq-str-match($value,"/fixed|scroll/"){
		@return (attachment: $value);

	}@else{
		@return ();
	}
}
@function hq-css-to-map-background($list){
	$_result: (
		color: null,
		image: null,
		repeat: null,
		attachment: null,
		position: null
	);
	$_number1: null;
	$_number2: null;
	//list形式
	@if type-of($list) == list{
		@each $_v in $list{
			@if type-of($_v) == number{
				@if $_number1 == null{
					$_number1: $_v;
				}@else if $_number2 == null{
					$_number2: $_v;
				}
			}@else{
				$_result: hq-map-extend($_result, hq-css-to-map-background-setter($_v));
			}
		}
		@if $_number1 and $_number2{
			$_result: hq-map-extend($_result, (
				position: $_number1 $_number2
			));
		}
	//単一指定
	}@else{
		$_result: hq-map-extend($_result, hq-css-to-map-background-setter($list));
	}
	@return $_result;
}

// ------------------------------
// [name] hq-css-to-map-font
// [desc] ショートハンド指定されているfontリストをmapに変換
// [return] map
// ------------------------------
@function hq-css-to-map-font-setter($value){
	@if type-of($value) == color{
		@return (color: $value);
	
	//}@else if type-of($value) == number and hq-str-match($value,"/100|200|300|400|500|600|700|800|900/"){
	//	@return (weight: $value);

	}@else if type-of($value) == number{
		@return (size: $value);

	}@else if type-of($value) == string and hq-str-match($value,"/normal|bold|lighter|bolder/"){
		@return (weight: $value);

	}@else if type-of($value) == string and hq-str-match($value,"/normal|italic|oblique/"){
		@return (style: $value);

	}@else if type-of($value) == string and hq-str-match($value,"/normal|small-caps/"){
		@return (variant: $value);

	}@else if type-of($value) == string and hq-str-match($value,"/\//"){
		@return (size: hq-str-split($value, "/", 0));
		@return (line-height: hq-str-split($value, "/", 1));

	}@else if type-of($value) == string{
		@return (family: $value);

	}@else{
		@return ();
	}
}
@function hq-css-to-map-font($list){
	$_result: (
		size:    null,
		line-height:  null,
		style: null,
		variant: null,
		weight: null,
		family: null
	);
	//list形式
	@if type-of($list) == list{
		@each $_v in $list{
			$_result: hq-map-extend($_result, hq-css-to-map-font-setter($_v));
		}
	//単一指定
	}@else{
		$_result: hq-map-extend($_result, hq-css-to-map-font-setter($list));
	}
	@return $_result;
}

// ------------------------------
// [name] hq-css-to-map-list-style
// [desc] ショートハンド指定されているfontリストをmapに変換
// [return] map
// ------------------------------
@function hq-css-to-map-list-style-setter($value){

	
	@if type-of($value) == string and hq-str-match($value,"/outside|inside/"){
		@return (position: $value);

	}@else if type-of($value) == string and hq-str-match($value,"/url\(.*\)/"){
		@return (image: $value);

	}@else if type-of($value) == string{
		@return (type: $value);

	}@else{
		@return ();
	}
}
@function hq-css-to-map-list-style($list){
	$_result: (
		type:    null,
		image:  null,
		position: null
	);
	
	//list形式
	@if type-of($list) == list{
		@each $_v in $list{
			$_result: hq-map-extend($_result, hq-css-to-map-list-style-setter($_v));
		}
	//単一指定
	}@else{
		$_result: hq-map-extend($_result, hq-css-to-map-list-style-setter($list));
	}
	@return $_result;
}



// ------------------------------
// [name] hq-css-to-short v1.0.0
// [path] /hisho-query/hq-css/_to-short-map
// [desc] map指定されているcssをショートハンドに変換
//        対応: margin,padding,border,background,font
// [return] map, list, null
// [exsample]
//   hq-css-to-short("margin", 0 10px 2px 5px)
// ------------------------------


// ------------------------------
// [name] hq-css-to-short
// ------------------------------
@function hq-css-to-short($map, $type){
	//listの場合
	@if type-of($map) == "list"{
		@return $map;

	//margin-padding
	}@else if $type == "margin" or $type == "padding" {
		@return hq-css-to-short-margin($map);

	//border
	}@else if $type == "border" or $type == "outline"{
		@return hq-css-to-short-border($map);

	//background
	}@else if $type == "background"{
		@return hq-css-to-short-background($map);

	//font
	}@else if $type == "font"{
		@return hq-css-to-short-font($map);

	//list-style
	}@else if $type == "list-style"{
		@return hq-css-to-short-list-style($map);

	//非対応のtypeはまま返す
	}@else{
		@return $map;
	}
}

// ------------------------------
// [name] hq-css-to-short-margin
// [desc] map指定されているリストをshorthandに変換
// [return] map
// ------------------------------
@function hq-css-to-short-margin($map){
	$_target: top,right,left,bottom;
	$_isSet: true;
	$_result: ();
	
	//map内容をチェック
	@each $_v in $_target{
		@if map-get($map,$_v) == null{
			$_isSet: false;
		}
	}
	
	//対象
	@if $_isSet{

		$_top: map-get($map,"top");
		$_right: map-get($map,"right");
		$_bottom: map-get($map,"bottom");
		$_left: map-get($map,"left");

		$_isAll: if( $_left == $_right and $_top == $_bottom and $_top == $_right, true, false );
		$_isX: if( $_left == $_right, true, false );
		$_isY: if( $_top == $_bottom, true, false );
		$_type: null;

		//値が全て一致
		@if $_isAll == true{
			@return $_top;
		//値が不一致
		}@else if $_isX == false and $_isY == false{
			$_result: append($_result, $_top);
			$_result: append($_result, $_right);
			$_result: append($_result, $_bottom);
			$_result: append($_result, $_left);
			$_result: join((), $_result, space);
			@return $_result;
		//横のみ一致
		}@else if $_isX == true and $_isY == false{
			$_result: append($_result, $_top);
			$_result: append($_result, $_right);
			$_result: append($_result, $_bottom);
			$_result: join((), $_result, space);
			@return $_result;
		//縦のみ一致
		}@else if $_isX == false and $_isY == true{
			$_result: append($_result, $_top);
			$_result: append($_result, $_right);
			$_result: append($_result, $_bottom);
			$_result: append($_result, $_left);
			$_result: join((), $_result, space);
			@return $_result;
		//縦一致＆横一致
		}@else if $_isX == true and $_isY == true{
			$_result: append($_result, $_top);
			$_result: append($_result, $_right);
			$_result: join((), $_result, space);
			@return $_result;
		}
	
	//非対象
	}@else{
		@return null;
	}
}

// ------------------------------
// [name] hq-css-to-short-border
// [desc] map指定されているリストをshorthandに変換
// [return] map
// ------------------------------
@function hq-css-to-short-border($map){
	$_target: style,width,color;
	$_isSet: true;
	$_result: ();
	
	//対象以外の値があるかチェック
	@each $_k, $_v in $map{
		@if index($_target,$_k) == false{
			$_isSet: false;
		}
	}
	//対象
	@if $_isSet {
		@each $_v in $_target{
			@if map-get($map,$_v) {
				$_result: append($_result, map-get($map,$_v));
			}
		}
		$_result: join((), $_result, space);
		@return $_result;
	//非対象
	}@else{
		@return null;
	}
}

// ------------------------------
// [name] hq-css-to-short-background
// [desc] map指定されているリストをshorthandに変換
// [return] map
// ------------------------------
@function hq-css-to-short-background($map){
	$_target: image,repeat,position,attachment,color;
	$_isSet: true;
	$_result: ();
	
	//対象以外の値があるかチェック
	@each $_k, $_v in $map{
		@if index($_target,$_k) == false{
			$_isSet: false;
		}
	}
	//対象
	@if $_isSet {
		@each $_v in $_target{
			@if map-get($map,$_v) {
				$_result: append($_result, map-get($map,$_v));
			}
		}
		$_result: join((), $_result, space);
		@return $_result;
	//非対象
	}@else{
		@return null;
	}
}

// ------------------------------
// [name] hq-css-to-short-font
// [desc] map指定されているリストをshorthandに変換
// [return] map
// ------------------------------
@function hq-css-to-short-font($map){
	$_target: style,variant,weight,size,line-height,family;
	$_isSet: true;
	$_result: ();
	
	//対象以外の値があるかチェック
	@each $_k, $_v in $map{
		@if index($_target,$_k) == false{
			$_isSet: false;
		}
	}
	//対象
	@if $_isSet {
		$_style: map-get($map,"style");
		$_variant: map-get($map,"variant");
		$_weight: map-get($map,"weight");
		$_size: map-get($map,"size");
		$_line: map-get($map,"line-height");
		$_family: map-get($map,"family");

		@if $_style{
			$_result: append($_result, $_style);
		}
		@if $_variant{
			$_result: append($_result, $_variant);
		}
		@if$_weight{
			$_result: append($_result, $_weight);
		}

		@if $_size and $_line{
			$_result: append($_result, hq("str.unquote", $_size + "/" + $_line) );
		}@else if $_size and $_line == null{
			$_result: append($_result, $_size);
		}

		@if $_family{
			$_result: append($_result, $_family);
		}
		
		$_result: join((), $_result, space);
		@return $_result;
	//非対象
	}@else{
		@return null;
	}
}

// ------------------------------
// [name] hq-css-to-short-list-style
// [desc] ショートハンド指定されているリストをmapに変換
// [return] map
// ------------------------------
@function hq-css-to-short-list-style($map){
	$_target: image,type,position;
	$_isSet: true;
	$_result: ();
	
	//対象以外の値があるかチェック
	@each $_k, $_v in $map{
		@if index($_target,$_k) == false{
			$_isSet: false;
		}
	}
	//対象
	@if $_isSet {
		@each $_v in $_target{
			@if map-get($map,$_v) {
				$_result: append($_result, map-get($map,$_v));
			}
		}
		$_result: join((), $_result, space);
		@return $_result;
	//非対象
	}@else{
		@return null;
	}
}



// ------------------------------
// [name] hq-is-help v1.0.0
// [path] /hisho-query/hq-is/_help.scss
// [desc] hq("is.xxx")のhelpをターミナルに表示
// [exsample]
//   hq-is-help()
// ------------------------------
@function hq-is-help(){

$help: '
- is method -
-------------------------------------------------------
| method        | return | mq| description
-------------------------------------------------------
| is.help       |  null  | x | is Method List 表示
| is.gValue     |  bool  | x | グローバル変数存在チェック
| is.function   |  bool  | x | function存在チェック
| is.mixin      |  bool  | x | mixin存在チェック
| is.string     |  bool  | x | string型かチェック
| is.number     |  bool  | x | number型かチェック
| is.color      |  bool  | x | color型かチェック
| is.list       |  bool  | x | list型かチェック
| is.map        |  bool  | x | map型かチェック
| is.bool       |  bool  | x | bool型かチェック
-------------------------------------------------------
* mq: "map query"対応可否

$gvalue: hoge
$h: hq( "is.gValue", gvalue );    -> true
$h: hq( "is.function", hq );      -> true
$h: hq( "is.mixin", hqm );        -> true
$h: hq( "is.string", "border" );  -> true
$h: hq( "is.number", 5px );       -> true
$h: hq( "is.color", #ff0000 );    -> true
$h: hq( "is.map", (test:hoge) );  -> true
$h: hq( "is.list", 0 2 3 5 );     -> true
$h: hq( "is.bool", true );        -> true

-------------------------------------------------------
';
	
	$a: hq-str-puts($help);
	@return null;
}



// ------------------------------
// [name] hq-is-string v1.0.0
// [path] /hisho-query/hq-is/_string.scss
// [desc] string判定
// [return] bool
// [exsample]
//   hq-is-string("aaaa");
// ------------------------------
@function hq-is-string($str){
	@return if(type-of($str) == string, true, false);
}


// ------------------------------
// [name] hq-is-number v1.0.0
// [path] /hisho-query/hq-is/_number.scss
// [desc] number判定
// [return] bool
// [exsample]
//   hq-is-number("aaaa");
// ------------------------------
@function hq-is-number($str){
	@return if(type-of($str) == number, true, false);
}


// ------------------------------
// [name] hq-is-color v1.0.0
// [path] /hisho-query/hq-is/_color.scss
// [desc] color判定
// [return] bool
// [exsample]
//   hq-is-color("aaaa");
// ------------------------------
@function hq-is-color($str){
	@return if(type-of($str) == color, true, false);
}


// ------------------------------
// [name] hq-is-map v1.0.0
// [path] /hisho-query/hq-is/_map.scss
// [desc] map判定
// [return] bool
// [exsample]
//   hq-is-map("aaaa");
// ------------------------------
@function hq-is-map($str){
	@return if(type-of($str) == map, true, false);
}


// ------------------------------
// [name] hq-is-list v1.0.0
// [path] /hisho-query/hq-is/_list.scss
// [desc] list判定
// [return] bool
// [exsample]
//   hq-is-list("aaaa");
// ------------------------------
@function hq-is-list($str){
	@return if(type-of($str) == list, true, false);
}


// ------------------------------
// [name] hq-is-bool v1.0.0
// [path] /hisho-query/hq-is/_bool.scss
// [desc] bool判定
// [return] bool
// [exsample]
//   hq-is-bool("aaaa");
// ------------------------------
@function hq-is-bool($str){
	@return if(type-of($str) == bool, true, false);
}


// ------------------------------
// [name] hq-error-method v1.0.0
// [path] /hisho-query/hq-error/_method.scss
// [desc] method用error message
// ------------------------------
@function hq-error-method($method){
	@if $method == null{
		$_error: "    error hisho-query undefined method '" + $_name + "'";
		$_puts: hq-str-puts(unquote($_error));
		@return true;
	}@else{
		@return false;
	}
}



// ------------------------------
// [name] hq-error-type v1.0.0
// [path] /hisho-query/hq-error/_type.scss
// [desc] type用error message
// ------------------------------
@function hq-error-type($name, $input){
	$_type: nth( hq-str-split($name,".") ,1 );
	$_value: type-of($input);

	@if $_value != $_value and $_type != "css" and $_type != "is"{
		$_error: "    error support not valutype '" + $_name + "' in ' " + $_value + " '";
		$_puts: hq-str-puts(unquote($_error));
		@return true;
	}@else{
		@return false;
	}
}



// ------------------------------
// [name] hq-mixin-font-cloud v1.0.0 alpha1
// [path] /hisho-query/hq/_hq-mixin-font-cloud.scss
// [desc] 各種fontsize用class s,l,xl,xxl等を生成。map指定する事で任意の値を設定可能
// [exsample]
//
//   @include hq-mixin-font-cloud(12px);
//
//   @include hq-mixin-font-cloud(
//     xxs: 8px,
//     l: 18px
//   );
// ------------------------------

@mixin hq-mixin-font-cloud($size){
	$_baseSize: if(hq("is.map",$size) , hq("map.get", $size, "m") , $size);

	$_sizeMap : (
		xxs : $_baseSize / 2,
		xs  : 2 * $_baseSize / 3,
		s   : 3 * $_baseSize / 4,
		m   : $_baseSize,
		l   : 4 * $_baseSize / 3,
		xl  : 3 * $_baseSize / 2,
		xxl : 2 * $_baseSize
	);
	//mapの場合extend
	@if hq("is.map",$size){
		$_sizeMap: hq("map.marge", $_sizeMap, $size);
	}

	@each $_k, $_v in $_sizeMap {
		&.#{$_k} {
			font-size : $_v;
		}
	}
}



// ------------------------------
// [name] hq-mixin-link-styles v1.0.0 alpha1
// [path] /hisho-query/hq/_hq-mixin-link-styles.scss
// [desc] linkのcolorとunderlineを指定
// [exsample]
//
//   @include hq-mixin-link-styles($map);
//
//   @include hq-mixin-link-styles(
//     linkColor : #333,
//     linkUnderline : false
//   );
// ------------------------------

//private mixin
@mixin hq-mixin-link-styles-view($color:null, $underline:null){
	@if $color {
		color: $color;
	}
	@if $underline != null{
		text-decoration: if($underline, underline, none);
	}
}

//publick mixin
@mixin hq-mixin-link-styles($options){

	//-----------------
	// options
	//-----------------
	$options: hq("map.mergeDeep", (
		color: (
			default : #333,
			link    : #CC33CC,
			visited : #CC33CC,
			hover   : #CC33CC,
			active  : #CC33CC,
			focus   : #CC33CC
		),
		underline: (
			default : true,
			link    : true,
			visited : true,
			hover   : false,
			active  : false,
			focus   : false
		)
	), $options);
	
	//-----------------
	// view
	//-----------------
 
	@include hq-mixin-link-styles-view(
		$color     : hq("map.get", $options, "color.default"),
		$underline : hq("map.get", $options, "underline.default")
	);

	&:link{
		@include hq-mixin-link-styles-view(
			$color     : hq("map.get", $options, "color.link"),
			$underline : hq("map.get", $options, "underline.link")
		);
	}

	&:visited{
		@include hq-mixin-link-styles-view(
			$color     : hq("map.get", $options, "color.visited"),
			$underline : hq("map.get", $options, "underline.visited")
		);
	}

	&:hover{
		@include hq-mixin-link-styles-view(
			$color     : hq("map.get", $options, "color.hover"),
			$underline : hq("map.get", $options, "underline.hover")
		);
	}

	&:active{
		@include hq-mixin-link-styles-view(
			$color     : hq("map.get", $options, "color.active"),
			$underline : hq("map.get", $options, "underline.active")
		);
	}

	&:focus{
		@include hq-mixin-link-styles-view(
			$color     : hq("map.get", $options, "color.focus"),
			$underline : hq("map.get", $options, "underline.focus")
		);
	}

}



// ------------------------------
// [name] hq-mixin-module v1.0.0 alpha1
// [path] /hisho/helper/mixin/_module.scss
// [desc] mapの指定を基にCSS生成
// [exsample]
//
//   @include hq-mixin-module($map);
// ------------------------------

//publick mixin
@mixin hq-mixin-module($options){

	//-----------------
	// options
	//-----------------
	$options: hq("map.mergeDeep", (
		name    : null,  //[str]moduleのClass名指定
		display : null,  //[int]moduleのdisplayを指定
		width   : auto,  //[int]moduleのwidth指定
		align   : null,  //[str]moduleのセンタリング位置を指定
		margin  : null,   //[int]moduleのmargin指定
		//style
		core: ()
	), $options);

	$_nameUp: hq("map.get -> str.flUpcase", $options,"name" );
	$_nameDw: hq("map.get -> str.flDowncase", $options,"name" );

	//-----------------
	// view
	//-----------------
	.#{$_nameUp}{
		@include hq-mixin-module-core($options);
		@include hq-mixin-write(hq("map.get", $options, "core"));

		@each $k,$v in $options{
			@if hq("is.map",$v) and $k != "core" {
				$key: hq("str.flUpcase", $k);
				.#{$_nameDw}#{$key}{
					@include hq-mixin-write($v);
				}
			}
		}
	}

}



// ------------------------------
// [name] hq-mixin-module-core v1.0.0 alpha1
// [path] /hisho-query/hq/_hq-mixin-module-core.scss
// [desc] hishoModuleの基本styleを指定
// [exsample]
//
//   @include hq-mixin-module-core();
//
//   @include hq-mixin-module-core(
//     width : 500px,
//     align : center
//   );
// ------------------------------

//publick mixin
@mixin hq-mixin-module-core($options:()){

	//-----------------
	// options
	//-----------------
	$options: hq("map.extend", (
		display : null,
		width   : auto,
		align   : left,
		margin  : 0
	), $options);
	
	$_display : hq("map.get", $options, "display");
	$_width   : if(hq("map.get", $options, "width") == auto, null, hq("map.get", $options, "width"));
	$_align   : hq("map.get", $options, "align");
	$_margin  : hq("map.get -> css.toMap", $options, "margin", "margin" );
	
	//inlineBlockの場合
	@if $_width and $_display == "inline-block"{
		@include hq-mixin-write-propaty("text-align", $_align);

	}@else{
		//align center
		@if $_width and $_align == "center"{
			$_margin: hq("map.extend", $_margin, (
				right:  auto,
				left:   auto
			));
		
		//align right
		}@else if $_width and $_align == "right"{
			$_margin: hq("map.extend", $_margin, (
				right:  0,
				left:   auto
			));
		}
	}

	//-----------------
	// view
	//-----------------
	@include hq-mixin-write-propaty("display", $_display);
	@include hq-mixin-write-propaty("width", $_width);
	@include hq-mixin-write-propaty("margin", $_margin);

}



// ------------------------------
// [name] hq-mixin-sprite v1.0.0 alpha1
// [path] /hisho/helper/_hq-mixin-sprite.scss
// [desc]
//   sprite生成
// [options]
//     spriteMap    : sprite-map指定
//     name         : 表示する画像のfile名指定。:区切りで複数指定する事でhover時のsprite指定可能
//     positionOnly : "all" or "position"
//     btn          : ボタンorリンクとして使用する場合true
//     hover        : hover時のstyle指定
// [exsample]
//   @include hq-mixin-sprite((spriteMap:$spriteMap, name:"list01:list01_hover"));
// ------------------------------
@mixin hq-mixin-sprite($options:()){

	$options: hq("map.mergeDeep",(
		spriteMap: null,
		name: null,
		positionOnly: false,
		btn: false,
		hover: null
	) ,$options);

	$_name: hq("map.get",$options,"name");

	//複数指定の場合,options変更
	@if hq("str.match", $_name, ":"){
		$_nameList: hq("str.split", $_name, ":");
		$_hoverPos: sprite-position(hq("map.get",$options,"spriteMap"), hq("list.get",$_nameList,2));
		$_newData: (
			name : hq("list.get", $_nameList, 1),
			hover: (
				background-position: $_hoverPos
			)
		);
		$options: hq("map.mergeDeep", $options, $_newData);
	}

	//実行
	@include hq-mixin-sprite-core($options);
	@include hq-mixin-sprite-image($options);
}



// ------------------------------
// [name] hq-mixin-sprite-core v1.0.0 alpha1
// [path] /hisho-query/hq/hq-mixin-sprite-core.scss
// [desc]
//   spriteを指定する要素に指定。
//     btn    : ボタンorリンクとして使用する場合true
//     hover  : hover時のstyle指定
// [exsample]
//   @include hq-mixin-sprite-core((cursor:true));
// ------------------------------
@mixin hq-mixin-sprite-core($options:()){

	$options: hq("map.mergeDeep",(
		btn: false,
		hover: null
	) ,$options);
	
	//view
	@include inline-block();
	overflow:hidden;
	border:none;
	vertical-align:top;
	white-space: nowrap;
	text-indent: 100%;
	
	//curor
	@if hq("map.get", $options, "btn"){
		cursor: pointer;
		&:hover{
			@include hq-mixin-write(hq("map.get",$options,"hover"));
		}
	}
	
}



// ------------------------------
// [name] hq-mixin-sprite-image v1.0.0 alpha1
// [path] /hisho/helper/_hq-mixin-sprite-image.scss
// [desc]
//   spriteの画像表示用style生成
//     spriteMap    : sprite-map指定
//     name         : 表示する画像のfile名指定
//     positionOnly : "all" or "position"
// [exsample]
//   @include hq-mixin-sprite-image((spriteMap:$spriteMap, name:"list01"));
// ------------------------------
@mixin hq-mixin-sprite-image($options:()){
	
	$options: hq("map.mergeDeep",(
		spriteMap: null,
		name: null,
		positionOnly: false
	) ,$options);

	$_spriteMap: hq("map.get",$options, "spriteMap");
	$_name: hq("map.get",$options, "name");

	//view
	@if hq("map.get",$options, "positionOnly") != false {
		background-image: sprite-url($_spriteMap);
		background-repeat: no-repeat;
		height: image-height(sprite-file($_spriteMap, $_name));
		width: image-width(sprite-file($_spriteMap, $_name));
	}
	background-position: sprite-position($_spriteMap, $_name);
}



// ------------------------------
// [name] hq-mixin-write v1.0.0 alpha1
// [path] /hisho-query/hq/_hq-mixin-write.scss
// [desc] mapに指定されたプロパティデータを全て反映
// [exsample]
//
//   @include hq-mixin-write(map);
// ------------------------------
@mixin hq-mixin-write($map){
	@if $map and hq("is.map",$map) and length($map) != 0{
		@each $key, $value in $map {
			@include hq-mixin-write-propaty($key, $value);
		}
	}
}



// ------------------------------
// [name] hq-mixin-write-propaty v1.0.0 alpha1
// [path] /hisho-query/hq/_hq-mixin-write-propaty.scss
// [desc] 指定内容を基にプロパティと値を生成
//        通常指定の場合はショートハンド、map指定の場合は複数プロパティで返す
// [exsample]
//   @include hq-mixin-write-propaty("border",solid 1px #ccc);
//
//   @include hq-mixin-write-propaty("border",(
//     style : solid,
//     width : 1px
//   ));
// ------------------------------

//
// publick mixin
// @ hq-mixin-write-propaty
//
@mixin hq-mixin-write-propaty($propaty, $value){
	//map指定
	@if hq("is.map",$value) {

		//margin padding
		@if $propaty == "margin" or $propaty == "padding" {
			@include hq-mixin-write-propaty-map-margin($propaty, $value);
		
		//border
		}@else if $propaty == "border" {
			@include hq-mixin-write-propaty-map-border($propaty, $value);

		//background
		}@else if $propaty == "background" {
			@include hq-mixin-write-propaty-map-background($propaty, $value);

		//font
		}@else if $propaty == "font" {
			@include hq-mixin-write-propaty-map-font($propaty, $value);
		
		//box
		}@else if $propaty == "box" {
			@include hq-mixin-write-propaty-map-box($propaty, $value);

		//linkStyles mixin
		}@else if $propaty == "link-styles" {
			@if $value{
				@include hqm("link.styles", $value);
			}

		//fontCloud mixin
		}@else if $propaty == "font-cloud" {
			@if $value{
				@include hqm("font.cloud", $value);
			}
		
		//default
		}@else{
			@include hq-mixin-write-propaty-map($propaty, $value);
		}

	//map以外の通常指定
	} @else {
		@include hq-mixin-write-propaty-value($propaty, $value);
	}
}


//
// private mixin
// @ hq-mixin-write-propaty-value
// - valueがmapでは無いときの処理
//
@mixin hq-mixin-write-propaty-value($propaty, $value){
	//valueがcompass対応mixinの場合
	//display:inline-block
	@if $propaty == "display" and $value == "inline-block"{
		@include inline-block;
	//display:box
	}@else if $propaty == "display" and $value == "box"{
		@include display-box;
	//display:box
	}@else if $propaty == "opacity"{
		@include opacity($value);
	//compass非対応
	}@else{
		#{$propaty} : $value;
	}
}


//
// private mixin
// @ hq-mixin-write-propaty-map
// - valueがmapの時のデフォルト処理
//
@mixin hq-mixin-write-propaty-map($propaty, $value){
	@each $key, $value in $value {
		#{$propaty}-#{$key}: $value;
	}
}


//
// private mixin
// @ hq-mixin-write-propaty-map-margin
// - margin,padding時、map指定で値が全て指定されている場合、ショートハンドに変換し生成。
//
@mixin hq-mixin-write-propaty-map-margin($propaty, $map){
	$_isNull: false;
	$map: hq("map.extend",(
		top: null,
		right: null,
		bottom: null,
		left: null
	) ,$map);

	//shorthandチェック
	$_short: hq("css.toShort",$map, $propaty);
	
	//shortHand
	@if $_short {
		#{$propaty} : $_short;
	//map
	}@else{
		@include hq-mixin-write-propaty-map($propaty, $map);
	}
}

//
// private mixin
// @ hq-mixin-write-propaty-map-border
// - border時mapが複数構造ある場合対応
//
@mixin hq-mixin-write-propaty-map-border($propaty, $map){
	//shorthandチェック
	$_short: hq("css.toShort",$map, $propaty);
	
	//shortHand
	@if $_short {
		#{$propaty} : $_short;
	//map
	}@else{
		@each $key, $value in $map {
			//border-radius
			@if $key == "radius"{
				@include border-radius($value);
			//border-image
			}@else if $key == "image"{
				@include border-image($value);
			//map内にshortHand
			}@else if $key == "all"{
				#{$propaty}: $value;
			//left->styleの様なdeep指定
			}@else if type-of($value) == map{
				@each $_k2, $_v2 in $value {
					#{$propaty}-#{$key}-#{$_k2}: $_v2;
				}
			//通常map
			}@else{
				#{$propaty}-#{$key}: $value;
			}
		}
	}
}

//
// private mixin
// @ hq-mixin-write-propaty-map-background
// - background時mapが複数構造ある場合対応
//
@mixin hq-mixin-write-propaty-map-background($propaty, $map){
	//shorthandチェック
	$_short: hq("css.toShort",$map, $propaty);
	
	//shortHand
	@if $_short {
		#{$propaty} : $_short;
	//map
	}@else{
		@each $key, $value in $map {
			//background-clip
			@if $key == "clip"{
				@include background-clip($value);
			//background-origin
			}@else if $key == "origin"{
				@include background-origin($value);
			//background-size
			}@else if $key == "size"{
				@include background-size($value);
			//map内にshortHand
			}@else if $key == "all"{
				#{$propaty}: $value;
			//通常map
			}@else{
				#{$propaty}-#{$key}: $value;
			}
		}
	}
}

//
// private mixin
// @ hq-mixin-write-propaty-map-font
// - font時mapが複数構造ある場合対応
//
@mixin hq-mixin-write-propaty-map-font($propaty, $map){
	//shorthandチェック
	$_short: hq("css.toShort",$map, $propaty);
	
	//shortHand
	@if $_short {
		#{$propaty} : $_short;
	//map
	}@else{
		@each $key, $value in $map {
			//line-height
			@if $key == "line-height"{
				line-height: $value;
			//map内にshortHand
			}@else if $key == "all"{
				#{$propaty}: $value;
			//通常map
			}@else{
				#{$propaty}-#{$key}: $value;
			}
		}
	}
}

//
// private mixin
// @ hq-mixin-write-propaty-map-box
// - box時mapが複数構造ある場合対応
//
@mixin hq-mixin-write-propaty-map-box($propaty, $map){
	@each $key, $value in $map {
		//box-shadow
		@if $key == "shadow"{
			@include box-shadow($value);
		//box-sizing
		}@else if $key == "sizing"{
			@include box-sizing($value);
		//box-flex
		}@else if $key == "flex"{
			@include box-flex($value);
		//box-flex-group
		}@else if $key == "flex-group"{
			@include box-flex-group($value);
		//box-orient
		}@else if $key == "orient"{
			@include box-orient($value);
		//box-orient-group
		}@else if $key == "orient-group"{
			@include box-orient-group($value);
		//box-align
		}@else if $key == "align"{
			@include box-align($value);
		//box-direction
		}@else if $key == "direction"{
			@include box-direction($value);
		//box-lines
		}@else if $key == "lines"{
			@include box-lines($value);
		//box-pack
		}@else if $key == "pack"{
			@include box-pack($value);
		//通常map
		}@else{
			#{$propaty}-#{$key}: $value;
		}
	}
}




// ==============================
// [name] hq-core v0.1.1
// [path] /hisho-query/_hq-core.scss
// [desc] hq function Interface
// ==============================

@function hq($argument...){
	$_api: (
		str: (
			help      : 0 hq-str-help,
			quote     : 1 quote,
			unquote   : 1 unquote,
			length    : 1 str-length,
			insert    : 3 str-insert,
			index     : 2 str-index,
			slice     : 3 str-slice,
			upcase    : 1 to-upper-case,
			downcase  : 1 to-lower-case,
			capitalize: 1 hq-str-capitalize,
			flUpcase  : 1 hq-str-first-letter-upper-case,
			flDowncase: 1 hq-str-first-letter-lower-case,
			strip     : 1 hq-str-strip,
			succ      : 1 hq-str-succ,
			match     : 2 hq-str-match,
			replace   : 3 hq-str-replace,
			split     : 2 hq-str-split,
			puts      : 1 hq-str-puts,
			getId     : 0 unique-id,
			reverse   : 1 hq-str-reverse,
		),
		num: (
			help       : 0 hq-num-help,
			percentage : 1 percentage,
			per        : 1 percentage,
			round      : 1 round,
			ceil       : 1 ceil,
			floor      : 1 floor,
			abs        : 1 abs,
			min        : i min,
			max        : i max,
			unit       : 1 unit,
			unitless   : 1 unitless,
			comparable : 2 comparable,
		),
		list: (
			help     : 0 hq-list-help,
			nth      : 2 nth,
			get      : 2 nth,
			setNth   : 3 set-nth,
			set      : 3 set-nth,
			length   : 1 length,
			index    : 2 index,
			prepend  : 2 hq-list-prepend,
			unshift  : 2 hq-list-prepend,
			append   : 2 append,
			push     : 2 append,
			shift    : 1 hq-list-shift,
			pop      : 1 hq-list-pop,
			slice    : 3 hq-list-slice,
			remove   : 2 hq-list-remove,
			join     : 3 join,
			zip      : i zip,
			toSpace  : 1 hq-list-toSpace,
			toComma  : 1 hq-list-toComma,
			separator: 1 list-separator,
			reverse  : 1 hq-list-reverse,
		),
		map: (
			help      : 0 hq-map-help,
			get       : 2 hq-map-get-deep,
			set       : 3 hq-map-set-deep,
			extend    : i hq-map-extend,
			merge     : 2 map-merge,
			mergeDeep : 2 hq-map-merge-deep,
			keys      : 1 map-keys,
			values    : 1 map-values,
			hasKey    : 2 map-has-key,
			nth       : 2 nth,
			length    : 1 length,
			append    : 2 append,
			push      : 2 append,
			join      : 3 join,
			zip       : 1 zip,
			toString  : 1 hq-map-to-string,
		),
		is: (
			help       : 0 hq-is-help,
			globalValue: 1 global-variable-exists,
			gValue     : 1 global-variable-exists,
			function   : 1 function-exists,
			mixin      : 1 mixin-exists,
			string     : 1 hq-is-string,
			number     : 1 hq-is-number,
			color      : 1 hq-is-color,
			map        : 1 hq-is-map,
			list       : 1 hq-is-list,
			bool       : 1 hq-is-bool,
		),
		css: (
			help      : 0 hq-css-help,
			toMap     : 2 hq-css-to-map,
			toShort   : 2 hq-css-to-short,
			getWidth  : 3 hq-css-get-width,
			getHeight : 3 hq-css-get-height,
		),
		help : 0 hq-help,
	);

	//method query
	$_data1: nth($argument,1);
	$_data2: if( length($argument) < 2, null, nth($argument,2) );
	$_data3: hq-list-slice($argument,3);
	$_isMMap: length($argument) == 2 and hq-is-map($_data2) and hq-str-match(nth(nth($_data2, 1), 1), "\.");
	
	//method map
	@if $_isMMap {
		@return hq-core-method-map($_api, $_data1, $_data2);
	//method query
	}@else{
		@return hq-core-method-query($_api, $_data1, $_data2, $_data3...);
	}
}

// ------------------------------
// method map
// ------------------------------
@function hq-core-method-map($api, $input, $map){
	$_result: $input;

	@each $_name, $_arg in $map{
		$_name: hq-str-strip($_name);
		$_data: hq-map-get-deep($api, $_name);
		$_method: nth($_data,2);
		$_argNum: nth($_data,1);
		$_arg: hq-list-toComma($_arg);

		//error
		@if $_method == null{
			$_error: "    error hisho-query undefined method '" + $_name + "'";
			$_puts: hq-str-puts($_error);
			$_result: $_error;
		//default
		}@else{
			@if $_argNum == 0{
				$_result: call($_method);
			}@else if $_argNum == 1{
				$_result: call($_method, $_result);
			}@else{
				$_result: call($_method, $_result, $_arg...);
			}
		}
	}
	@return $_result;
}


// ------------------------------
// method query
// ------------------------------
@function hq-core-method-query($api, $query, $input, $arg...){
	$_qList: hq-str-split($query,"->");
	$_result: $input;
	$_startNum: 1;
	$_error: false;
	
	@each $_name in $_qList{
		//エラーでは無い場合処理を行う
		@if $_error == false{

			$_name: hq-str-strip($_name);
			$_data: hq-map-get-deep($api, $_name);
			$_method: nth($_data,2);
			$_argNum: nth($_data,1);

			//method
			@if hq-error-method($_method) or hq-error-type($_name, $input){
				$_error: "";
			//default
			}@else{
				//可変長引数
				@if $_argNum == i{
					$_result: call($_method, $_result, $arg...);
				//引数不要
				}@else if $_argNum == 0{
					$_result: call($_method);
				//引数1
				}@else if $_argNum == 1{
					$_result: call($_method, $_result);
				//引数複数
				}@else{
					$_endNum: $_startNum + ($_argNum - 1) - 1;

					//可変長引数の状況チェック
					@if $_name == "str.slice" or $_name == "list.slice"{
						@if length($arg) < 2 or hq-is-number(nth($arg,2)) == false{
							$_endNum: $_endNum - 1;
						}
					}
					
					//引数が存在する場合
					@if length($arg) >= $_endNum {
						$_setArg: hq-list-slice($arg, $_startNum, $_endNum);
						$_result: call($_method, $_result, $_setArg...);
						$_startNum: $_endNum + 1;
					//引数が足りない場合
					}@else{
						$_error: "    error not argument is hq('" + $_name + "')";
						$_result: null;
					}

				}
			}

		//errorが発生した場合
		}@else{
			$c: hq-str-puts(unquote($_error));
			$_result: null;
		}

	}
	@return $_result;
}



// ==============================
// [name] hqm-core v0.1.1 alpha1
// [path] /hisho-query/_hqm-core.scss
// [desc] hqm mixin Interface
// ==============================
@mixin hqm($argument...){
	//compass あり
	@if hq("is.mixin", sprite-background) {
		$_name: nth($argument,1);
		$_arg: hq-list-slice($argument,2);
		
		@if $_name == "write"{
			@include hq-mixin-write($_arg...);

		}@else if $_name == "write.propaty"{
			@include hq-mixin-write-propaty($_arg...);

		}@else if $_name == "sprite"{
			@include hq-mixin-sprite($_arg...);

		}@else if $_name == "sprite.core"{
			@include hq-mixin-sprite-core($_arg...);

		}@else if $_name == "sprite.image"{
			@include hq-mixin-sprite-image($_arg...);

		}@else if $_name == "module"{
			@include hq-mixin-module($_arg...);

		}@else if $_name == "module.core"{
			@include hq-mixin-module-core($_arg...);

		}@else if $_name == "font.cloud"{
			@include hq-mixin-font-cloud($_arg...);

		}@else if $_name == "link.styles"{
			@include hq-mixin-link-styles($_arg...);

		}@else if $_name == "help"{
			@include hq-mixin-help($_arg...);
			$test: hq-str-puts($mixinHelp);
		}
	//compass なし
	}@else{
		$error: hq-str-puts("  error undefind compass in hqm function")
	}

}
